---
import Layout from "../../layouts/Layout.astro";
import PageHeader from "../../components/PageHeader.astro";
import TagPill from "../../components/TagPill.astro";
import { getPublicPrompts, getTagCounts } from "../../data/prompts";

const prompts = await getPublicPrompts();
const tags = getTagCounts(prompts);
---

<Layout
  title="Tags â€” My Prompt Library"
  description="Browse prompts by tag. Find prompts by topic and category."
>
  <PageHeader title="Tags" description="Browse prompts by tag." />

  <ul class="flex list-none flex-wrap gap-2 p-0" aria-label="List of tags">
    {
      tags.map(({ tag, count }) => (
        <li>
          <TagPill tag={tag} count={count} />
        </li>
      ))
    }
  </ul>

  {tags.length === 0 && <p class="text-[var(--color-muted)]">No tags yet.</p>}
</Layout>
